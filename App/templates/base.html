{% load static %}
<!DOCTYPE html>
<html lang="pt-pt">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
   <!--favicon-->
   <link href="{% static 'img/favicon.ico' %}" rel="shortcut icon">
   <!--logo-->
   <link href="{% static 'img/moz.ico' %}" rel="shortcut icon">
   <!--boxicon-->
   <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
   <!--static css-->
   <link href="{% static 'css/style.css' %}" rel="stylesheet">
   <link href="{% static 'css/main.css' %}" rel="stylesheet">
    <title>{% block title %} ndex {% endblock %}</title>
</head>
<body class="fundo">
    <div class="wrapper">
        {% block bg-img %}
        <style>
            body {
                background-image: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.3)), url("/static/img/login.jpg");
                background-position: center 0px;
                background-repeat: no-repeat;
                background-attachment: fixed;
                background-size: cover;
            }
            
        </style>
        {% endblock bg-img %}

        <!-- Navbar -->
        <header>
            <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
                <!-- FontAwesome + Title (Left side) -->
                
                   <!--logo-left-->
                   <div class="col-sm">
                    <a href="#" class="navbar-brand flex-grow-1" id="navbar">
                        {% block navbar-content %}
                        <i class="fas fa-globe fa-spin text-light"></i>&nbsp;&nbsp; <span class="tex-sm2 text-light" style="color:yellow;">Informativa 2023</span>
                        {% endblock navbar-content %}
                    </a>
                </div>
                
                <div class="col-sm">
                <!-- button to login -->
                {% block btn-nav %}
                <a href= {% url 'login' %} id="btn-nav" class=" btn btn-dark" title="login" style="margin-right: 25px; font-size: 25px">
                    <i class="fas fa-power-off" style="color: lightgreen;"></i>
                </a>
                {% endblock btn-nav %}
            </div>
            </nav>
        </header>

         <!-- Block Content (ROOT) -->
         {% block content %} 
         
         
         {% endblock content %}
            <!--=========INCLUDES (MODALS) no primary key ==========-->
         <!--forms-->
         {% include 'modals/forms/logoutModal.html' %}
         {% include 'modals/forms/NewsModal.html' %}
         {% include 'modals/forms/infoModal.html' %}
         
         <!--=========others===-->
         
         
    </div> <!-- End // wrapper -->


    <!--footer-->
    {% block footer %}
    <footer id="footer" class="time_over" style="background-color: rgb(0, 0, 0, 0.5); border-top: 1px solid greenyellow; border-bottom: 5px solid greenyellow;">
        <form class="container w-footer" method="POST" action="/send" autocomplete="off">
            <div class="input-group">
                {% csrf_token %}
                <input type="email" class="form-control txt-sm" id="email" name="email" placeholder="Receba as actualizações por email.">&nbsp;
                <button type="submit" class="btn btn-lg btn-add txt-sm" style="background-color: yellowgreen"> Increver-se</button>
            </div>
        </form>
    </footer>
    {% endblock footer %}

    <!-- mensagem backend (views.py) -->
    {% for message in messages %}
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script>
        {% if message.tags == 'success' %}
        var m = "{{message}}";
        swal("Perfeito !", m, "success")
       
        {% elif message.tags == 'error' %}
        var m = "{{message}}";
        swal("Negado !", m, "error")

        {% endif %}
    </script>
    {% endfor %}




    <!-- Bootstrap 5 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    
    <!-- Jquery -->
    <script src="https://code.jquery.com/jquery-3.6.3.min.js" integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script>
    
    <!--typed effect-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/typed.js/2.0.10/typed.min.js" integrity="sha512-hIlMpy2enepx9maXZF1gn0hsvPLerXoLHdb095CmRY5HG3bZfN7XPBZ14g+TUDH1aGgfLyPHmY9/zuU53smuMw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script> <!--my local(static) script-->
    
    <!-- inputMask-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/inputmask/5.0.6/jquery.inputmask.min.js"></script>
    
    <!--sweetalert-->
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

    <script src="https://unpkg.com/boxicons@2.1.4/dist/boxicons.js"></script>
    <!-- Static JS -->
    <script src="{% static 'js/main.js' %}"></script>
    <!-- Static JS -->
    <script src="{% static 'js/script.js' %}"></script>

<!--typed effect-->
{% for data in tiped %}
<script>
    const typed = new Typed('#element',{
        
        strings: [ 
        '{{ data.txt01 }}',
        '{{ data.txt02 }}',
        '{{ data.txt03 }}',
        '{{ data.txt04 }}',
        
        ],
        typeSpeed: 60,
        backSpeed: 40,
        loop: true,
    });
</script>{% endfor %}

<!-- Countdown timer -->
{% for data in timer %}
<script>
    const dataTime = new Date("{{ data.timer }}").getTime();
    const control = setInterval(function() {
    const now = new Date().getTime();
    const sub = dataTime - now;

    //variaveis matematicas
    const d = Math.floor(sub / (1000 * 60 * 60 * 24));
    const h = Math.floor((sub % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    const m = Math.floor((sub % (1000 * 60 * 60)) / (1000 * 60));
    const s = Math.floor((sub % (1000 * 60)) / 1000);

    // variaveis de exibicao
    document.getElementById('d').innerHTML = d;
    document.getElementById('h').innerHTML = h;
    document.getElementById('m').innerHTML = m;
    document.getElementById('s').innerHTML = s;

    // condicoes
    if (sub < 0) {
        clearInterval(control);
        exibirHomepage(); // Chamada da função para exibir o elemento homepage
    }
}, 1000);

function exibirHomepage() {
  // Ocultar elementos de countdown
  $('.time_over').css("display", "none");
  
  // Exibir o elemento homepage
  $('#homepage').css("display", "block");
}

</script>
    {% endfor %}

       <!--Music-->
       {% for data in music %}
       <script>
        var music = document.getElementById('music');
        var btn = document.getElementById('btn-play');

        btn.onclick = function() {
            if (music.paused) {
                music.play();
                btn.className="bx bx-pause-circle";
                btn.title = "{{ data.title_music }}"
            }
            else{
                music.pause();
                btn.className = "bx bx-play-circle pulse";
            }
        }
       </script>
       {% endfor %}
        
</body>
</html>